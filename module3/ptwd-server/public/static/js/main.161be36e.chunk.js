(this["webpackJsonpptwd-client"]=this["webpackJsonpptwd-client"]||[]).push([[0],{33:function(e,t,n){e.exports=n(62)},38:function(e,t,n){},39:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(29),l=n.n(c),u=(n(38),n(6)),o=n(7),i=n(9),s=n(8),h=n(10),m=(n(39),n(14)),p=n.n(m),f=n(13),v=n(11),g=n(30),E=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e))).state={fullName:"",email:"",password:"",message:null},n}return Object(h.a)(t,e),Object(o.a)(t,[{key:"genericSync",value:function(e){var t=e.target,n=t.name,a=t.value;this.setState(Object(g.a)({},n,a))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),p.a.post("".concat("https://test-ptwd.herokuapp.com/api","/signup"),this.state,{withCredentials:!0}).then((function(e){var n=e.data.userDoc;t.props.onUserChange(n)})).catch((function(e){return console.log("Err in signup: ",e)}))}},{key:"render",value:function(){var e=this;console.log("Do I have user in Signup: ",this.props.currentUser);var t=this.state,n=t.fullName,a=t.email,c=t.password;return this.props.currentUser?r.a.createElement("div",null,r.a.createElement("h2",null," Welcome to your app, ",this.props.currentUser.fullName," ! You're signed in! ")):r.a.createElement("section",null,r.a.createElement("h2",null," Sign up "),r.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement("label",null," Full name: "),r.a.createElement("input",{value:n,onChange:function(t){return e.genericSync(t)},type:"text",name:"fullName",placeholder:"Jesus"}),r.a.createElement("label",null," Email: "),r.a.createElement("input",{value:a,onChange:function(t){return e.genericSync(t)},type:"email",name:"email",placeholder:"my-email@ironhack.com"}),r.a.createElement("label",null," Password"),r.a.createElement("input",{value:c,onChange:function(t){return e.genericSync(t)},type:"password",name:"password",placeholder:"***********"}),r.a.createElement("button",null," Sign Up ")),this.state.message&&r.a.createElement("div",null," ",this.state.message," "))}}]),t}(r.a.Component),d=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(i.a)(this,Object(s.a)(t).call(this))).state={theCountriesFromAPI:[]},e}return Object(h.a)(t,e),Object(o.a)(t,[{key:"fetchCountries",value:function(){var e=this;fetch("https://restcountries.eu/rest/v2/all").then((function(e){return e.json()})).then((function(t){return e.setState({theCountriesFromAPI:t})})).catch((function(e){return console.log("Err while getting countries: ",e)}))}},{key:"render",value:function(){var e=this.state.theCountriesFromAPI;return r.a.createElement("div",null,this.fetchCountries(),r.a.createElement("ul",null,e.map((function(e,t){return r.a.createElement("li",{key:t}," ",e.name," ")}))))}}]),t}(r.a.Component),b=function(e){function t(){return Object(u.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("section",null,r.a.createElement("h1",null," Home Page "),r.a.createElement("p",null," Welcome to the best app ever! \u2764\ufe0f "))}}]),t}(r.a.Component),y=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(i.a)(this,Object(s.a)(t).call(this))).state={currentUser:null},e}return Object(h.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;p.a.get("http://localhost:3001/api/checkuser",{withCredentials:!0}).then((function(t){var n=t.data.userDoc;e.syncCurrentUSer(n)})).catch((function(e){return console.log("Err while getting the user from the checkuser route: ",e)}))}},{key:"syncCurrentUSer",value:function(e){this.setState({currentUser:e})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("header",null,r.a.createElement("nav",null,r.a.createElement(f.b,{to:"/"}," Home "),r.a.createElement(f.b,{to:"/signup-page"}," Signup "),r.a.createElement(f.b,{to:"/countries"}," Countries "))),r.a.createElement(v.c,null,r.a.createElement(v.a,{exact:!0,path:"/",component:b}),r.a.createElement(v.a,{exact:!0,path:"/countries",component:d}),r.a.createElement(v.a,{exact:!0,path:"/signup-page",render:function(){return r.a.createElement(E,{currentUser:e.state.currentUser,onUserChange:function(t){return e.syncCurrentUSer(t)}})}})))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(f.a,null,r.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[33,1,2]]]);
//# sourceMappingURL=main.161be36e.chunk.js.map